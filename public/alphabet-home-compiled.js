"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),template=document.createElement("template");template.innerHTML='\n<style>\n  :host {\n    display: block;\n  }\n  .header {\n    height: 350px;\n    overflow: hidden;\n  }\n  h1 {\n    letter-spacing: 2px;\n    font-weight: 500;\n  }\n  p {\n    font-weight: 300;\n    font-size: 18px;\n  }\n  .maintitle {\n    font-size: 4.2em;\n    color: #6b8e23;\n  }\n  .footer {\n    font-size: 13px;\n  }\n  a:link, a:visited {\n    color: #6b8e23;\n    text-decoration: none;\n  }\n  a:hover {\n    text-decoration: underline;\n  }\n  .signin-view {\n    padding-top: 10%;\n    max-width: 400px;\n    margin: auto;\n    text-align: center;\n    display: block;\n  }\n  .btn {\n      box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\n      transition: all 0.3s cubic-bezier(.25,.8,.25,1);\n      border-color: #6b8e23;\n      border-radius: 2px;\n      height: 2.25rem;\n      background-color: #6b8e23;\n      color: white;\n      cursor: pointer;\n      margin: 0.5rem;\n  }\n  .btn:hover {\n      box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n  }\n  button.secondary {\n    background-color: #585858;\n    border-color: #585858;\n    float: right;\n  }\n  button.primary {\n    float: right;\n  }\n  #logout {\n    position: fixed;\n    top: 0;\n    right: 0;\n    font-size: 0.9rem;\n    margin: 1.25rem 1rem 0 0;\n    cursor: pointer;\n  }\n\n  .letter {\n    position: relative;\n    margin: auto;\n    height: 5rem;\n    font-size: 5rem;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    text-align: center;\n    vertical-align: middle;\n    line-height: 5rem;\n    z-index: 5;\n    cursor: pointer;\n  }\n\n  </style>\n\n  <div class="signin-view" id="signin">\n    <div class="header">\n        <div class="maintitle">Ellie\'s Alphabet</div>\n        <p role="main">A simple game to help my daughter learn her alphabet letters</p>\n        <br/>\n        <button id="googlelogin" class="btn">Sign in with Google</button>\n    </div>\n    <p class="footer">Created by <a href="https://twitter.com/jeffdaube">Jeffrey B. Daube</a>.\n    Find this on <a href="https://github.com/daubejb/ellies_alphabet">GitHub</a>.</p>\n  </div>\n  <div id="home" style="display:none;">\n    <daube-header-fixed headertitle="Ellie\'s Alphabet">\n      <span id="logout">LOGOUT</span>\n    </daube-header-fixed>\n    <daube-main-container>\n      <daube-card id="topcard">\n        <div id="topletter" class="letter">A</div>\n      </daube-card>\n      <daube-card id="middlecard">\n        <div id="middleletter" class="letter">B</div>\n      </daube-card>\n      <daube-card id="bottomcard">\n        <div id="bottomletter" class="letter">C</div>\n      </daube-card>\n    </daube-main-container>\n  </div>\n',window.ShadyCSS&&ShadyCSS.prepareTemplate(template,"alphabet-home");var AlphabetHome=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.attachShadow({mode:"open"}),e.shadowRoot.appendChild(template.content.cloneNode(!0)),e.shadowRoot.querySelector("#googlelogin").addEventListener("click",function(t){console.log("login button clicked"),e.googleLogin()}),e.shadowRoot.querySelector("#logout").addEventListener("click",function(t){console.log("login button clicked"),e.googleLogout()}),e}return _inherits(t,HTMLElement),_createClass(t,null,[{key:"observedAttributes",get:function(){}}]),_createClass(t,[{key:"connectedCallback",value:function(){window.ShadyCSS&&ShadyCSS.styleElement(this);var e=this.shadowRoot.querySelector("#signin"),t=this.shadowRoot.querySelector("#home");firebase.auth().onAuthStateChanged(function(n){n?(e.style.display="none",t.style.display="block"):(console.log("user is not authenticated"),e.style.display="block",t.style.display="none")});var n=this.getRandLetters();console.log(n);var o=this.shadowRoot.querySelector("#topletter"),i=this.shadowRoot.querySelector("#middleletter"),a=this.shadowRoot.querySelector("#bottomletter");o.innerHTML=n.top,i.innerHTML=n.middle,a.innerHTML=n.bottom;var r=new Audio("./audio/"+n.top+".mp3"),l=new Audio("./audio/"+n.middle+".mp3"),s=new Audio("./audio/"+n.bottom+".mp3"),d="";switch(n.selection){case"top":d=n.top;break;case"middle":d=n.middle;break;case"bottom":d=n.bottom}new Audio("./audio/Where_is_the_letter_"+d+".mp3").play(),o.addEventListener("click",function(e){console.log("top letter clicked"),r.play(),setTimeout(function(){this.evaluateClick(n,"top")},2e3)}),i.addEventListener("click",function(e){console.log("middle letter clicked"),l.play(),setTimeout(function(){this.evaluateClick(n,"middle")},2e3)}),a.addEventListener("click",function(e){console.log("bottom letter clicked"),s.play(),setTimeout(function(){this.evaluateClick(n,"bottom")},2e3)})}},{key:"googleLogin",value:function(){var e=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithPopup(e).then(function(e){e.credential.accessToken,e.user}).catch(function(e){e.code,e.message,e.email,e.credential})}},{key:"googleLogout",value:function(){console.log("User requested to log out"),firebase.auth().signOut().then(function(){console.log("User logged out")}).catch(function(e){console.log("Error occured")})}},{key:"getRandLetters",value:function(){for(var e=this.getOneRandomLetter(),t=this.getOneRandomLetter(),n=this.getOneRandomLetter(),o=Math.floor(3*Math.random()+1);t===e;)t=this.getOneRandomLetter();for(;n===e||n===t;)n=this.getOneRandomLetter();var i=e.toUpperCase(),a=t.toUpperCase(),r=n.toUpperCase();switch(o){case 1:o="top";break;case 2:o="middle";break;case 3:o="bottom"}var l=new Array;return l.top=i,l.middle=a,l.bottom=r,l.selection=o,l}},{key:"getOneRandomLetter",value:function(){return String.fromCharCode(Math.floor(25*Math.random())+97)}},{key:"evaluateClick",value:function(e,t){var n=new Audio("./audio/Good_job.mp3"),o=new Audio("./audio/Please_try_again.mp3");t===e.selection?n.play():o.play()}}]),t}();customElements.define("alphabet-home",AlphabetHome);